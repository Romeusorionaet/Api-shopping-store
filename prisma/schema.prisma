generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum ModeOfSale {
  SELLS_ONLY_IN_THE_REGION
  ONLINE_STORE
}

model Category {
  id     String @id @default(uuid())
  title  String
  slug   String
  imgUrl String

  Product Product[]

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @default(now()) @updatedAt @map("updated_at")

  @@map("categories")
}

model Product {
  id                   String     @id @default(uuid())
  categoryTitle        String
  title                String
  slug                 String
  description          String     @db.Text
  imgUrlList           String[]
  corsList             String[]
  price                Int
  stockQuantity        Int
  minimumQuantityStock Int
  discountPercentage   Int
  width                Int
  height               Int
  weight               Int
  placeOfSale          ModeOfSale @default(ONLINE_STORE)
  stars                Int?       @default(0)
  categoryId           String

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @default(now()) @updatedAt @map("updated_at")

  Category Category @relation(fields: [categoryId], references: [id])

  @@map("products")
}
